<div class="contenedor">
    <div class="div-center">
        <div class="botones-arriba">
            <button class="btn boton-clicked" (click)="crearOferta()">
                <fa-icon [icon]="faCommentDots" class="border-icon" style="
                background: #BCD4FA 0% 0% no-repeat padding-box;"></fa-icon>
                <div class="div-info-boton">
                    <p class="titulo-boton">Crear oferta</p>
                </div>
            </button>
            <button class="btn boton-no-clicked" (click)="editarPerfil()">
                <fa-icon [icon]="faEllipsisH" class="border-icon" style="
                background: #BCD4FA 0% 0% no-repeat padding-box;"></fa-icon>
                <div class="div-info-boton">
                    <p class="titulo-boton">Editar perfil</p>
                </div>
            </button>
            <button class="btn boton-no-clicked" (click)="clubEmpresas()">
                <fa-icon icon="suitcase" class="border-icon" style="
                background: #BCD4FA 0% 0% no-repeat padding-box;"></fa-icon>
                <div class="div-info-boton">
                    <p class="titulo-boton">Club de empresas</p>
                </div>
            </button>
            <button class="btn boton-no-clicked" (click)="verOferta()">
                <fa-icon icon="eye" class="border-icon" style="
                background: #BCD4FA 0% 0% no-repeat padding-box;"></fa-icon>
                <div class="div-info-boton">
                    <p class="titulo-boton">Controla tus ofertas</p>
                </div>
            </button>
            <button class="btn boton-no-clicked" (click)="membresia()">
                <fa-icon [icon]="faStar" class="border-icon" style="
                background: #BCD4FA 0% 0% no-repeat padding-box;"></fa-icon>
                <div class="div-info-boton">
                    <p class="titulo-boton">Membresía</p>
                </div>
            </button>
        </div>
        <form [formGroup]="formDatosBasicos" *ngIf = "!visualizarOferta" (ngSubmit)="vistaPreliminarOferta()">
            <ng-container>
                <div class="ngnum0">
                    <p class="estilo_titulo">Creando oferta</p>
                    <div class="row">
                        <div class="form-group">
                            <p class="estilo_label">{{labels.NOMBRE_OFERTA}} <span
                                    class="estilo_campo_requerido">*</span></p>
                            <input type="text" class="estilo_inputs" formControlName="nombre">
                            <small *ngIf="formDatosBasicos.get('nombre')?.errors?.required"
                            class="form-text text-danger">{{labels.CAMPO_OBLIGATORIO_LABEL}}</small>
                            <small *ngIf="formDatosBasicos.get('nombre')?.errors?.pattern"
                            class="form-text text-danger">{{labels.CARACTERES_NO_PERMITIDOS}}</small>
                        </div>
                    </div>

                    <div class="row">
                        <div class="column">
                            <div class="form-group">
                                <p class="estilo_label">{{labels.NIVEL_LABORAL}} <span
                                        class="estilo_campo_requerido">*</span></p>
                                <select formControlName="nivelLaboral" class="estilo_inputs">
                                    <option [ngValue]="null" disabled>Seleccione una opción</option>
                                    <option *ngFor="let nivel of nivelesLaborales" 
                                    [ngValue]="nivel.codigo">
                                        {{ nivel.nombre }}
                                    </option>
                                </select>
                                <small *ngIf="formDatosBasicos.get('nivelLaboral')?.errors?.required"
                                class="form-text text-danger">{{labels.CAMPO_OBLIGATORIO_LABEL}}</small>
                            </div>
                        </div>
                        <div class="column">
                            <div class="form-group">
                                <p class="estilo_label">{{labels.SUB_NIVEL_LABORAL}} </p>
                                <select formControlName="subNivelLaboral" class="estilo_inputs">
                                    <option [ngValue]="null" disabled>Seleccione una opción</option>
                                    <option *ngFor="let nivel of nivelesLaborales" 
                                    [ngValue]="nivel.codigo">
                                        {{ nivel.nombre }}
                                    </option>
                                </select>
                            </div>
                        </div>
                    </div>
                    <div class="row">
                        <div class="form-group">
                            <p class="estilo_label">Descripción y requisitos <span
                                    class="estilo_campo_requerido">*</span></p>
                            <input formControlName="requisitos" type="text" class="estilo_inputs">
                            <small *ngIf="formDatosBasicos.get('requisitos')?.errors?.required"
                            class="form-text text-danger">{{labels.CAMPO_OBLIGATORIO_LABEL}}</small>
                            <small *ngIf="formDatosBasicos.get('requisitos')?.errors?.pattern"
                            class="form-text text-danger">{{labels.CARACTERES_NO_PERMITIDOS}}</small>
                        </div>
                    </div>
                    <div class="row">
                        <div class="column">
                            <div class="form-group">
                                <p class="estilo_label">{{labels.AREA_TRABAJO}}  <span
                                        class="estilo_campo_requerido">*</span></p>
                                <select formControlName="areaTrabajo" class="estilo_inputs">
                                    <option [ngValue]="null" disabled>{{labels.SELECCIONE_LABEL}}</option>
                                    <option *ngFor="let cargo of cargos" 
                                    [ngValue]="cargo.id">
                                        {{ cargo.cargo }}
                                    </option>
                                </select>
                                <small *ngIf="formDatosBasicos.get('areaTrabajo')?.errors?.required"
                                class="form-text text-danger">{{labels.CAMPO_OBLIGATORIO_LABEL}}</small>
                            </div>
                        </div>
                        <div class="column">
                            <div class="form-group">
                                <p class="estilo_label">{{labels.RANGO_SALARIAL}}  <span
                                    class="estilo_campo_requerido">*</span></p>
                                <select formControlName="rangoSalarial" class="estilo_inputs">
                                    <option [ngValue]="null" disabled>Seleccione una opción</option>
                                    <option *ngFor="let aspiracion of aspiracionesSalariales" 
                                    [ngValue]="aspiracion.codigo">
                                        {{ aspiracion.nombre }}
                                    </option>
                                </select>
                                <small *ngIf="formDatosBasicos.get('rangoSalarial')?.errors?.required"
                                class="form-text text-danger">{{labels.CAMPO_OBLIGATORIO_LABEL}}</small>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="column">
                            <div class="form-group">
                                <p class="estilo_label">{{labels.EXPERIENCIA_MINIMA}} <span
                                        class="estilo_campo_requerido">*</span></p>
                                <select formControlName="experiencia" class="estilo_inputs">
                                    <option [ngValue]="null" disabled>Seleccione una opción</option>
                                    <option *ngFor="let experiencia of experienciasLaborales" 
                                    [ngValue]="experiencia.codigo">
                                        {{ experiencia.nombre }}
                                    </option>
                                </select>
                                <small *ngIf="formDatosBasicos.get('experiencia')?.errors?.required"
                                class="form-text text-danger">{{labels.CAMPO_OBLIGATORIO_LABEL}}</small>
                            </div>
                        </div>
                        <div class="column">
                            <div class="form-group">
                                <p class="estilo_label">{{labels.CIUDAD_LABEL}} <span
                                        class="estilo_campo_requerido">*</span></p>
                                <!-- <select formControlName="ciudad" class="estilo_inputs" >
                                    <option [ngValue]="null" disabled>{{labels.SELECCIONE_LABEL}}</option>
                                    <option
                                        [ngValue]="municipio.codigo"
                                        *ngFor="let municipio of municipiosAcademica">
                                        {{ municipio.nombre }}
                                    </option>
                                </select> -->
                                <!-- <input type="text" class="estilo_inputs" placeholder="{{lblSeleccioneCiudad}}" [matAutocomplete]="autoCiudades"
                                        [formControl]="myControlCiudades">
                                <mat-autocomplete #autoCiudades="matAutocomplete">
                                    <mat-option *ngFor="let datos of filteredOptionsCiudades | async" [value]="datos" style="font-weight: bold;">
                                        {{datos}}
                                    </mat-option>
                                </mat-autocomplete>
                                <small *ngIf="formDatosBasicos.get('ciudad')?.errors?.required"
                                class="form-text text-danger">{{labels.CAMPO_OBLIGATORIO_LABEL}}</small> -->
                                <select formControlName="ciudad" class="estilo_inputs">
                                <option [ngValue]="null" disabled>{{labels.SELECCIONE_LABEL}}</option>
                                <option
                                [ngValue]="municipio.codigo"
                                    *ngFor="let municipio of municipiosPersonal">
                                    {{ municipio.nombre }}
                                </option>
                                </select>
                                <small *ngIf="formDatosBasicos.get('ciudad')?.errors?.required"
                                    class="form-text text-danger">{{labels.CAMPO_OBLIGATORIO_LABEL}}</small>
                                </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="column">
                                <p class="estilo_label">{{labels.IDIOMA}}<span
                                    class="estilo_campo_requerido">*</span> </p>
                                <select formControlName="idIdioma" class="estilo_inputs_idioma">
                                    <option [ngValue]="null">{{labels.SELECCIONE_LABEL}}</option>
                                    <option
                                        [ngValue]="item.id "
                                        *ngFor="let item of idiomas">
                                        {{ item.idioma }}
                                    </option>
                                </select>
                                <small *ngIf="formDatosBasicos.get('idIdioma')?.errors?.required"
                                class="form-text text-danger">{{labels.CAMPO_OBLIGATORIO_LABEL}}</small>
                                <p class="estilo_label">{{labels.NIVEL_IDIOMA}}</p>
                                <select formControlName="nivelIdioma" class="estilo_inputs_nivel_idioma">
                                    <option [ngValue]="null">{{labels.SELECCIONE_LABEL}}</option>
                                    <option
                                        [ngValue]="item.codigo "
                                        *ngFor="let item of nivelIdioma">
                                        {{ item.nombre }}
                                    </option>
                                </select>
                        </div>
                        <div class="column">
                            <div class="form-group">
                                <p class="estilo_label">{{labels.GENERO_ESPECIFICO}} </p>
                                <input type="radio" value="1" name="masculino" />
                                <label>Masculino </label>
                                <input type="radio" value="2" name="femenino"/>
                                <label>Femenino </label>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="column">
                            <div class="form-group">
                                <p class="estilo_label">{{labels.MODALIDAD_LABORAL}} <span
                                    class="estilo_campo_requerido">*</span></p>
                                <select formControlName="modalidadLaboral" class="estilo_inputs">
                                    <option [ngValue]="null" disabled>Seleccione una opción</option>
                                    <option *ngFor="let modalidad of modalidadesLaborales" 
                                    [ngValue]="modalidad.codigo">
                                        {{ modalidad.nombre }}
                                    </option>
                                </select>
                                <small *ngIf="formDatosBasicos.get('modalidadLaboral')?.errors?.required"
                                class="form-text text-danger">{{labels.CAMPO_OBLIGATORIO_LABEL}}</small>
                            </div>
                        </div>
                        <div class="column">
                            <div class="form-group">
                                <p class="estilo_label">{{labels.TIPO_CONTRATO}}<span
                                    class="estilo_campo_requerido">*</span></p>
                                <select formControlName="tipoContrato" class="estilo_inputs">
                                    <option [ngValue]="null" disabled>Seleccione una opción</option>
                                    <option *ngFor="let tipo of tiposContrato" 
                                    [ngValue]="tipo.codigo">
                                        {{ tipo.nombre }}
                                    </option>
                                </select>
                                <small *ngIf="formDatosBasicos.get('tipoContrato')?.errors?.required"
                                class="form-text text-danger">{{labels.CAMPO_OBLIGATORIO_LABEL}}</small>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <div class="column">
                            <div class="form-group">
                                <p class="estilo_label">{{labels.PROFESION}} <span
                                        class="estilo_campo_requerido">*</span></p>
                                <input type="text" placeholder="{{lblSeleccioneProfesion}}" [formControl]="myControlProfesiones"
                                [matAutocomplete]="autoProfesiones" class="estilo_inputs" (ngModelChange)=onSelectionChanged($event)>
                                <mat-autocomplete #autoProfesiones="matAutocomplete">
                                    <mat-option *ngFor="let option of filteredOptionsProfesiones | async" [value]="option.profesion">
                                        {{option.profesion}}
                                    </mat-option>
                                </mat-autocomplete>
                                <small *ngIf="formDatosBasicos.get('profesion')?.errors?.required"
                                    class="form-text text-danger">{{labels.CAMPO_OBLIGATORIO_LABEL}}</small>
                            </div>
                        </div>
                        <div class="column">
                            <div class="form-group">
                                <p class="estilo_label">{{labels.NIVEL_ESTUDIOS}}
                                    <span class="estilo_campo_requerido">*</span>
                                </p>
                                <select formControlName="nivelEstudios" class="estilo_inputs">
                                    <option [ngValue]="null" disabled>{{labels.SELECCIONE_LABEL}}</option>
                                    <option
                                        [ngValue]="nivel.codigo "
                                        *ngFor="let nivel of nivelEducativoProfesion">
                                        {{ nivel.nombre }}
                                    </option>
                                </select>
                                <small *ngIf="formDatosBasicos.get('nivelEstudios')?.errors?.required"
                                class="form-text text-danger">{{labels.CAMPO_OBLIGATORIO_LABEL}}</small>
                            </div>
                        </div>
                    </div>

                    <div class="row">
                        <button class="btn boton-volver" (click)="volverOferta()" *ngIf = "!visualizarOferta">
                            <fa-icon icon="chevron-left" class="border-icon" ></fa-icon>
                            <p class="titulo-boton">Volver</p>
                        </button>
                        <div class="column">
                            <button type="submit" class="btn btn-success" [disabled]="formDatosBasicos.invalid">
                                <div>Continuar</div>
                            </button>   
                        </div>
                    </div>
                </div>
            </ng-container>
        </form>
    </div>
</div>


<div class="contenedor2" *ngIf = "visualizarOferta">
    <div class="div-center2">
        <ng-container>
        <br>
        <br>
            <p class="estilo_titulo2">Así quedará su oferta</p>
            <div *ngIf = "visualizarOferta" class="ngnum1">
                <ng-container>
                    <p class="titulo_oferta">Oferta</p>
                    <p class="profesion_oferta">{{profesionOferta}}</p>
                    <p class="descripcion_profesion">{{descripcionOferta}}</p>
                    <table class="tabla_oferta" style="width: 100%;">
                        <tr>
                          <th class="titulo_oferta_previsualizacion">Titulo:</th>
                          <th class="titulo_oferta_previsualizacion">Tipo de contrato:</th>
                          <th class="titulo_oferta_previsualizacion">Publicado:</th>
                        </tr>
                        <tr>
                          <td style="width: 30%;">{{tituloOferta}}</td>
                          <td style="width: 40%;">{{contratoOferta}}</td>
                          <td style="width: 30%;">{{publicadoOFerta}}</td>
                        </tr>
                    </table>
                    <table class="tabla_oferta" style="width: 100%;">
                        <tr>
                          <th class="titulo_oferta_previsualizacion">Experiencia:</th>
                          <th class="titulo_oferta_previsualizacion">Ciudad:</th>
                          <th class="titulo_oferta_previsualizacion">Salario:</th>
                        </tr>
                        <tr>
                          <td style="width: 30%;">{{experienciaOferta}}</td>
                          <td style="width: 40%;">{{ciudadOferta}}</td>
                          <td style="width: 30%;">{{salarioOferta}}</td>
                        </tr>
                    </table>
                </ng-container>
            </div>
            <div style="display: inline;">
                <button class="btn boton-volver" (click)="volverCrearOferta()" *ngIf = "visualizarOferta">
                    <fa-icon icon="chevron-left" class="border-icon" ></fa-icon>
                    <p class="titulo-boton">Volver</p>
                </button>
                <button class="btn boton-publicar" (click)="onSubmit()" *ngIf = "visualizarOferta">
                    <p class="titulo-boton">Publicar</p>
                </button>
            </div>
        </ng-container>
    </div>
</div>

